<!DOCTYPE html>
<html>
<head>
    <title>Google Api Testing</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <style>

        /* Always set the map height explicitly to define the size of the div
         * element that contains the map. */
        #map {
            height: 50%;
            width:50%;
            position:absolute;
            top:300px
        }
        /* Optional: Makes the sample page fill the window. */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div class="'container-fluid">
    <div class="display-4">my map</div>


    <input class="form-contorl" id="search" type="text" placeholder="Search..">

    <div class="row"><div id="map"></div>
    </div>
</div>
<script>
    var map;
    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: 49.267132, lng: -122.968941},
            zoom: 14
            // decided the zoom-in level with default
        });
        //
        // var mark = new google.maps.Marker({
        //     position:{lat:49.267133, lng:-122.968442},
        //     map:map,
        //     title:'hello world'
        // })
        //
        // var infoWindow = new google.maps.InfoWindow({
        //     content:'<h1>Ciro testing</h1>'
        // });

        // mark.addListener('click',()=>{
        //     infoWindow.open(map,mark);
        // })

        var input = document.getElementById('search')
        var searchBox = new google.maps.places.SearchBox(input);
        map.addListener('bounds_changed',function(){
            searchBox.setBounds(map.getBounds());
        });

        var markers =[];

        searchBox.addListener('places_changed',function() {
            var places = searchBox.getPlaces();
            if (places.length === 0)
                return;
            markers.forEach(function (m) {
                m.setMap(null);
            });

            var bounds = new google.maps.LatLngBounds();

            places.forEach(function (p) {
                if (!p.geometry)
                    return;
                markers.push(new google.maps.Marker({
                    map: map,
                    title: p.name,
                    position: p.geometry.location
                }));

                if (p.geometry.viewport)
                    bounds.union(p.geometry.viewport);
                else
                    bounds.extend(p.geometry.location);
            });
            map.fitBounds(bounds);
        });
    }


</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB05M9WVnhk7NLh8gSFUxkiOVJecxU5tK0&callback=initMap&libraries=places"
        async defer></script>
<script src="GoogleDirection.js"></script>
</body>
</html>